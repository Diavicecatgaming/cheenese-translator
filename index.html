<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cursed Translator</title>
  <link rel="icon" type="image/png" href="icon.png">
  <style>
    body {
      font-family: monospace;
      background: #121212;
      color: #eee;
      margin: 0;
      padding: 20px;
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
    }
    .tabs {
      text-align: center;
      margin-bottom: 20px;
    }
    .tabs button {
      background: #333;
      color: #eee;
      border: none;
      padding: 10px 20px;
      margin: 0 5px;
      border-radius: 8px;
      cursor: pointer;
    }
    .tabs button:hover {
      background: #555;
    }
    .translator {
      display: none;
      max-width: 800px;
      margin: 0 auto;
      background: #1e1e1e;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
    }
    textarea {
      width: 100%;
      height: 100px;
      background: #111;
      color: #0f0;
      border: none;
      padding: 10px;
      border-radius: 6px;
      margin-bottom: 10px;
      resize: none;
    }
    .output {
      background: #000;
      padding: 10px;
      min-height: 80px;
      border-radius: 6px;
      white-space: pre-wrap;
      color: #0f0;
    }
  </style>
</head>
<body>
  <h1>‚ò†Ô∏è Cursed Translator ‚ò†Ô∏è</h1>
  <div class="tabs">
    <button onclick="showTranslator('cheenese')">ü•¢ Cheenese</button>
    <button onclick="showTranslator('cataneese')">üê± Cataneese</button>
  </div>

  <!-- Cheenese Translator -->
  <div id="cheenese" class="translator">
    <h2>Cheenese (Caesar Cipher)</h2>
    <textarea id="cheeneseInput" placeholder="Enter text..."></textarea>
    <input type="number" id="shift" value="1"> Shift (use -1 for back-translate)
    <button onclick="translateCheenese()">Translate</button>
    <div class="output" id="cheeneseOutput"></div>
  </div>

  <!-- Cataneese Translator -->
  <div id="cataneese" class="translator">
    <h2>Cataneese (Assembly Style)</h2>
    <textarea id="cataneeseInput" placeholder="Enter text..."></textarea>
    <button onclick="encodeCataneese()">Encode</button>
    <button onclick="decodeCataneese()">Decode</button>
    <div class="output" id="cataneeseOutput"></div>
  </div>

  <script>
    function showTranslator(name) {
      document.querySelectorAll('.translator').forEach(el => el.style.display = 'none');
      document.getElementById(name).style.display = 'block';
    }

    // ===== Cheenese =====
    function shiftChar(char, shift) {
      if (/[a-z]/.test(char)) {
        return String.fromCharCode((char.charCodeAt(0) - 97 + shift + 26) % 26 + 97);
      } else if (/[A-Z]/.test(char)) {
        return String.fromCharCode((char.charCodeAt(0) - 65 + shift + 26) % 26 + 65);
      }
      return char;
    }

    function translateCheenese() {
      let text = document.getElementById("cheeneseInput").value;
      let shift = parseInt(document.getElementById("shift").value);
      let result = "";
      for (let char of text) {
        result += shiftChar(char, shift);
      }
      document.getElementById("cheeneseOutput").textContent = result;
    }

    // ===== Cataneese =====
    function encodeCataneese() {
      let text = document.getElementById("cataneeseInput").value;
      let words = text.split(/\s+/);
      let lines = words.map(word => {
        let arr = [];
        for (let char of word) {
          if (/[a-z]/.test(char)) {
            arr.push(`${char.charCodeAt(0) - 96} [LOWER]`);
          } else if (/[A-Z]/.test(char)) {
            arr.push(`${char.charCodeAt(0) - 64} [UPPER]`);
          } else {
            arr.push(`${char} [NON-ALPHA]`);
          }
        }
        return `TEXT = [${arr.join(", ")}]`;
      });
      document.getElementById("cataneeseOutput").textContent = lines.join("\n");
    }

    function decodeCataneese() {
      let text = document.getElementById("cataneeseInput").value;
      let lines = text.split("\n");
      let decoded = lines.map(line => {
        let inside = line.match(/\[(.*?)\]/g);
        if (!inside) return "";
        return inside.map((chunk, i) => {
          let match = /(\d+|.?) \[(UPPER|LOWER|NON-ALPHA)\]/.exec(chunk.replace(/\[|\]/g, ""));
          if (!match) return "";
          let val = match[1], type = match[2];
          if (type === "UPPER") return String.fromCharCode(parseInt(val) + 64);
          if (type === "LOWER") return String.fromCharCode(parseInt(val) + 96);
          return val;
        }).join("");
      }).join(" ");
      document.getElementById("cataneeseOutput").textContent = decoded;
    }

    // default show Cheenese
    showTranslator('cheenese');
  </script>
</body>
</html>
